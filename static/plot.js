var county = ['Anderson', 'Andrews', 'Angelina', 'Aransas', 'Archer', 'Armstrong', 'Atascosa', 'Austin', 'Bailey', 'Bandera', 'Bastrop', 'Baylor', 'Bee', 'Bell', 'Bexar', 'Blanco', 'Bosque', 'Bowie', 'Brazoria', 'Brazos', 'Brewster', 'Briscoe', 'Brooks', 'Brown', 'Burleson', 'Burnet', 'Caldwell', 'Calhoun', 'Callahan', 'Cameron', 'Camp', 'Carson', 'Cass', 'Castro', 'Chambers', 'Cherokee', 'Childress', 'Clay', 'Cochran', 'Coke', 'Coleman', 'Collin', 'Collingsworth', 'Colorado', 'Comal', 'Comanche', 'Concho', 'Cooke', 'Coryell', 'Crane', 'Crockett', 'Crosby', 'Dallam', 'Dallas', 'Dawson', 'Deaf Smith', 'Delta', 'Denton', 'Dickens', 'Dimmit', 'Duval', 'Eastland', 'Ector', 'El Paso', 'Ellis', 'Erath', 'Falls', 'Fannin', 'Fayette', 'Fisher', 'Floyd', 'Foard', 'Fort Bend', 'Franklin', 'Freestone', 'Frio', 'Gaines', 'Galveston', 'Gillespie', 'Glasscock', 'Goliad', 'Gonzales', 'Gray', 'Grayson', 'Gregg', 'Grimes', 'Guadalupe', 'Hale', 'Hamilton', 'Hansford', 'Hardeman', 'Hardin', 'Harris', 'Harrison', 'Hartley', 'Haskell', 'Hays', 'Hemphill', 'Henderson', 'Hidalgo', 'Hill', 'Hockley', 'Hood', 'Hopkins', 'Houston', 'Howard', 'Hudspeth', 'Hunt', 'Hutchinson', 'Irion', 'Jack', 'Jackson', 'Jasper', 'Jeff Davis', 'Jefferson', 'Jim Wells', 'Johnson', 'Jones', 'Karnes', 'Kaufman', 'Kendall', 'Kerr', 'Kimble', 'Kinney', 'Kleberg', 'Knox', 'La Salle', 'Lamar', 'Lamb', 'Lampasas', 'Lavaca', 'Lee', 'Leon', 'Liberty', 'Limestone', 'Live Oak', 'Llano', 'Lubbock', 'Lynn', 'Madison', 'Marion', 'Martin', 'Mason', 'Matagorda', 'Maverick', 'McCulloch', 'McLennan', 'McMullen', 'Medina', 'Midland', 'Milam', 'Mills', 'Mitchell', 'Montague', 'Montgomery', 'Moore', 'Morris', 'Motley', 'Nacogdoches', 'Navarro', 'Newton', 'Nolan', 'Nueces', 'Ochiltree', 'Oldham', 'Orange', 'Palo Pinto', 'Panola', 'Parker', 'Parmer', 'Pecos', 'Polk', 'Potter', 'Presidio', 'Rains', 'Randall', 'Reagan', 'Real', 'Red River', 'Reeves', 'Refugio', 'Robertson', 'Rockwall', 'Runnels', 'Rusk', 'Sabine', 'San Augustine', 'San Jacinto', 'San Patricio', 'San Saba', 'Schleicher', 'Scurry', 'Shackelford', 'Shelby', 'Smith', 'Somervell', 'Starr', 'Stephens', 'Sutton', 'Swisher', 'Tarrant', 'Taylor', 'Terrell', 'Terry', 'Throckmorton', 'Titus', 'Tom Green', 'Travis', 'Trinity', 'Tyler', 'Upshur', 'Upton', 'Uvalde', 'Val Verde', 'Van Zandt', 'Victoria', 'Walker', 'Waller', 'Ward', 'Washington', 'Webb', 'Wharton', 'Wheeler', 'Wichita', 'Wilbarger', 'Willacy', 'Williamson', 'Wilson', 'Wise', 'Wood', 'Yoakum', 'Young', 'Zapata', 'Zavala'] 


trace1 = {
  x: ['95.8142857142857', '95.44999999999999', '95.12142857142855', '87.75', '99.26666666666667', '100.0', '92.21', '95.10000000000001', '98.8', '95.375', '93.64999999999999', '95.0', '88.5', '89.125', '88.3', '96.55', '94.60625000000002', '95.68333333333332', '94.66428571428571', '86.175', '98.56666666666666', '95.85', '86.45', '98.58571428571427', '89.80000000000001', '93.35', '89.98333333333333', '92.55', '95.35', '93.07500000000002', '97.5', '99.35000000000001', '97.24285714285713', '97.23333333333333', '98.25', '92.34', '90.75', '99.325', '100.0', '95.925', '91.06666666666666', '96.80357142857142', '98.9', '94.63333333333334', '95.30000000000001', '97.775', '100.0', '97.69999999999999', '93.45', '90.7', '88.2', '95.23333333333333', '99.325', '86.79285714285713', '98.7875', '90.65', '94.60000000000001', '96.0409090909091', '96.65', '83.80000000000001', '91.01666666666667', '95.1', '85.8', '83.94615384615385', '95.29545454545455', '86.5', '88.2', '96.49374999999998', '97.38', '98.75', '95.67500000000001', '100.0', '92.32499999999999', '99.45', '95.39999999999999', '87.60000000000001', '93.66666666666667', '92.14375000000001', '96.15', '100.0', '99.0', '85.05', '98.36666666666667', '96.6125', '94.13125', '92.27500000000002', '95.6375', '95.24', '98.69999999999999', '98.55', '96.9', '95.74000000000001', '90.09666666666662', '95.48999999999998', '94.45', '97.35000000000001', '91.86', '85.19999999999999', '95.5', '90.23611111111111', '95.57272727272725', '93.47500000000001', '98.2', '96.44285714285715', '94.00999999999999', '93.66666666666667', '97.13333333333333', '95.17499999999998', '95.75', '100.0', '98.31666666666666', '96.18333333333334', '97.71', '100.0', '90.99375', '88.575', '93.96666666666667', '96.24000000000001', '95.475', '91.53571428571429', '88.10000000000001', '94.64999999999999', '98.1', '93.0', '91.56666666666666', '97.9', '87.6', '96.04999999999998', '97.63999999999999', '98.6', '96.66666666666667', '97.03333333333335', '97.72', '93.86666666666666', '92.25', '91.14999999999999', '100.0', '93.35000000000001', '100.0', '83.60000000000001', '94.30000000000001', '97.6', '100.0', '92.2625', '87.30000000000001', '94.06666666666666', '95.82894736842107', '100.0', '91.84', '91.475', '94.97', '95.7', '94.76666666666667', '97.23333333333333', '93.10000000000001', '97.39999999999999', '95.875', '100.0', '95.03750000000001', '97.72142857142856', '92.26666666666667', '97.48750000000001', '87.71818181818182', '91.1', '100.0', '91.43999999999998', '96.66', '92.07499999999999', '95.39375000000003', '97.325', '95.56666666666668', '94.75833333333333', '96.61250000000001', '93.07499999999999', '92.0', '96.85', '96.44999999999999', '68.55', '97.50000000000001', '97.875', '97.3', '97.22', '95.275', '98.2', '94.06875000000002', '92.75', '95.1', '90.6', '93.50000000000001', '95.38333333333333', '97.7', '96.66666666666667', '87.2', '95.51', '93.2', '84.45', '93.46666666666665', '91.35', '95.0', '92.80000000000001', '93.5236842105263', '89.72500000000001', '90.0', '96.95', '96.15', '94.75', '94.72857142857143', '88.77083333333336', '94.225', '93.89', '95.34285714285716', '96.375', '89.22500000000001', '93.05', '91.6125', '84.45', '64.68333333333334', '94.28333333333335', '98.125', '95.475', '87.775', '98.06', '91.25', '95.92', '96.78333333333335', '89.95', '96.67500000000001', '96.2625', '97.92142857142858', '96.99166666666667', '96.55000000000001', '95.3', '90.95', '93.69999999999999'],
  y: ['$43,967 ', '$60,644 ', '$43,658 ', '$44,866 ', '$58,928 ', '$54,868 ', '$53,622 ', '$55,973 ', '$40,536 ', '$55,885 ', '$56,449 ', '$36,616 ', '$40,753 ', '$51,993 ', '$53,170 ', '$57,634 ', '$47,636 ', '$45,455 ', '$74,510 ', '$42,279 ', '$43,055 ', '$43,376 ', '$27,703 ', '$43,770 ', '$48,533 ', '$55,919 ', '$49,598 ', '$52,916 ', '$45,727 ', '$36,587 ', '$41,937 ', '$62,573 ', '$40,597 ', '$45,229 ', '$80,279 ', '$39,407 ', '$39,140 ', '$49,171 ', '$39,900 ', '$41,529 ', '$42,258 ', '$90,382 ', '$37,389 ', '$48,161 ', '$76,296 ', '$40,052 ', '$39,622 ', '$59,243 ', '$50,122 ', '$57,408 ', '$46,556 ', '$35,136 ', '$48,470 ', '$54,429 ', '$41,073 ', '$43,944 ', '$41,266 ', '$80,841 ', '$38,239 ', '$38,275 ', '$34,777 ', '$37,789 ', '$53,474 ', '$42,048 ', '$69,448 ', '$43,787 ', '$38,559 ', '$46,347 ', '$53,776 ', '$46,247 ', '$40,536 ', '$36,056 ', '$90,972 ', '$44,202 ', '$45,681 ', '$39,193 ', '$51,910 ', '$64,155 ', '$58,787 ', '$71,360 ', '$55,264 ', '$45,491 ', '$47,828 ', '$51,808 ', '$45,594 ', '$50,891 ', '$67,683 ', '$40,152 ', '$45,718 ', '$57,832 ', '$35,521 ', '$60,692 ', '$56,415 ', '$47,181 ', '$70,121 ', '$34,653 ', '$64,864 ', '$74,856 ', '$43,425 ', '$35,928 ', '$47,338 ', '$46,856 ', '$57,346 ', '$46,582 ', '$34,587 ', '$51,863 ', '$35,252 ', '$51,827 ', '$53,936 ', '$67,249 ', '$46,975 ', '$53,143 ', '$44,909 ', '$46,688 ', '$46,198 ', '$40,056 ', '$59,809 ', '$40,931 ', '$47,608 ', '$62,363 ', '$83,805 ', '$50,461 ', '$40,118 ', '$40,612 ', '$44,106 ', '$37,586 ', '$39,926 ', '$41,887 ', '$37,846 ', '$52,637 ', '$48,975 ', '$51,768 ', '$44,891 ', '$48,592 ', '$39,382 ', '$51,953 ', '$48,135 ', '$48,587 ', '$39,869 ', '$42,429 ', '$34,919 ', '$58,760 ', '$44,818 ', '$46,324 ', '$35,654 ', '$40,125 ', '$46,662 ', '$67,249 ', '$51,304 ', '$68,729 ', '$42,302 ', '$43,540 ', '$41,262 ', '$46,237 ', '$72,506 ', '$52,344 ', '$38,255 ', '$37,464 ', '$38,099 ', '$44,111 ', '$41,388 ', '$40,969 ', '$53,562 ', '$61,194 ', '$54,212 ', '$53,611 ', '$43,589 ', '$47,780 ', '$67,735 ', '$48,344 ', '$45,414 ', '$43,014 ', '$41,563 ', '$32,742 ', '$47,354 ', '$65,795 ', '$67,308 ', '$36,744 ', '$36,352 ', '$40,092 ', '$45,366 ', '$42,680 ', '$97,484 ', '$40,112 ', '$46,421 ', '$38,451 ', '$36,426 ', '$45,794 ', '$51,667 ', '$39,995 ', '$47,258 ', '$50,316 ', '$55,403 ', '$37,410 ', '$52,520 ', '$56,944 ', '$26,691 ', '$42,831 ', '$54,760 ', '$38,790 ', '$61,553 ', '$48,215 ', '$41,114 ', '$38,910 ', '$42,876 ', '$45,324 ', '$48,221 ', '$70,068 ', '$38,973 ', '$43,617 ', '$49,015 ', '$56,335 ', '$36,913 ', '$42,104 ', '$49,751 ', '$53,659 ', '$42,709 ', '$56,407 ', '$63,809 ', '$53,157 ', '$36,718 ', '$46,097 ', '$47,476 ', '$45,071 ', '$40,955 ', '$31,225 ', '$82,370 ', '$66,045 ', '$57,609 ', '$47,260 ', '$57,114 ', '$52,133 ', '$34,136 ', '$25,507 '],  
  marker: {
    opacity: 1, 
    size: 7
  }, 
  mode: 'markers', 
  name: 'Income', 
  text: ['Anderson', 'Andrews', 'Angelina', 'Aransas', 'Archer', 'Armstrong', 'Atascosa', 'Austin', 'Bailey', 'Bandera', 'Bastrop', 'Baylor', 'Bee', 'Bell', 'Bexar', 'Blanco', 'Bosque', 'Bowie', 'Brazoria', 'Brazos', 'Brewster', 'Briscoe', 'Brooks', 'Brown', 'Burleson', 'Burnet', 'Caldwell', 'Calhoun', 'Callahan', 'Cameron', 'Camp', 'Carson', 'Cass', 'Castro', 'Chambers', 'Cherokee', 'Childress', 'Clay', 'Cochran', 'Coke', 'Coleman', 'Collin', 'Collingsworth', 'Colorado', 'Comal', 'Comanche', 'Concho', 'Cooke', 'Coryell', 'Crane', 'Crockett', 'Crosby', 'Dallam', 'Dallas', 'Dawson', 'Deaf Smith', 'Delta', 'Denton', 'Dickens', 'Dimmit', 'Duval', 'Eastland', 'Ector', 'El Paso', 'Ellis', 'Erath', 'Falls', 'Fannin', 'Fayette', 'Fisher', 'Floyd', 'Foard', 'Fort Bend', 'Franklin', 'Freestone', 'Frio', 'Gaines', 'Galveston', 'Gillespie', 'Glasscock', 'Goliad', 'Gonzales', 'Gray', 'Grayson', 'Gregg', 'Grimes', 'Guadalupe', 'Hale', 'Hamilton', 'Hansford', 'Hardeman', 'Hardin', 'Harris', 'Harrison', 'Hartley', 'Haskell', 'Hays', 'Hemphill', 'Henderson', 'Hidalgo', 'Hill', 'Hockley', 'Hood', 'Hopkins', 'Houston', 'Howard', 'Hudspeth', 'Hunt', 'Hutchinson', 'Irion', 'Jack', 'Jackson', 'Jasper', 'Jeff Davis', 'Jefferson', 'Jim Wells', 'Johnson', 'Jones', 'Karnes', 'Kaufman', 'Kendall', 'Kerr', 'Kimble', 'Kinney', 'Kleberg', 'Knox', 'La Salle', 'Lamar', 'Lamb', 'Lampasas', 'Lavaca', 'Lee', 'Leon', 'Liberty', 'Limestone', 'Live Oak', 'Llano', 'Lubbock', 'Lynn', 'Madison', 'Marion', 'Martin', 'Mason', 'Matagorda', 'Maverick', 'McCulloch', 'McLennan', 'McMullen', 'Medina', 'Midland', 'Milam', 'Mills', 'Mitchell', 'Montague', 'Montgomery', 'Moore', 'Morris', 'Motley', 'Nacogdoches', 'Navarro', 'Newton', 'Nolan', 'Nueces', 'Ochiltree', 'Oldham', 'Orange', 'Palo Pinto', 'Panola', 'Parker', 'Parmer', 'Pecos', 'Polk', 'Potter', 'Presidio', 'Rains', 'Randall', 'Reagan', 'Real', 'Red River', 'Reeves', 'Refugio', 'Robertson', 'Rockwall', 'Runnels', 'Rusk', 'Sabine', 'San Augustine', 'San Jacinto', 'San Patricio', 'San Saba', 'Schleicher', 'Scurry', 'Shackelford', 'Shelby', 'Smith', 'Somervell', 'Starr', 'Stephens', 'Sutton', 'Swisher', 'Tarrant', 'Taylor', 'Terrell', 'Terry', 'Throckmorton', 'Titus', 'Tom Green', 'Travis', 'Trinity', 'Tyler', 'Upshur', 'Upton', 'Uvalde', 'Val Verde', 'Van Zandt', 'Victoria', 'Walker', 'Waller', 'Ward', 'Washington', 'Webb', 'Wharton', 'Wheeler', 'Wichita', 'Wilbarger', 'Willacy', 'Williamson', 'Wilson', 'Wise', 'Wood', 'Yoakum', 'Young', 'Zapata', 'Zavala'], 
  textsrc: 'abi.mvasquez:292:a65e69', 
  type: 'scatter', 
  uid: 'c2e728', 
  xsrc: 'abi.mvasquez:292:e2b221', 
  ysrc: 'abi.mvasquez:292:9b6261'
};
data = [trace1];
layout = {
  autosize: true, 
  hovermode: 'closest', 
  title: 'Graduation Rate by Household Income', 
  xaxis: {
    autorange: true, 
    range: [62.4367074182, 102.246625915], 
    title: 'Graduation Rate (%)', 
    type: 'linear'
  }, 
  yaxis: {
    autorange: true, 
    range: [20131.0363117, 102859.963688], 
    title: 'Household Income'
  }
};
Plotly.plot('scatter', {
  data: data,
  layout: layout
});

$(window).on("load", function () {
  location.hash = ""
})

// drop menu
jQuery('#choice').change( function() {
   // re-render map
  var sel = $("#choice option:selected")
  var group = sel.closest("optgroup").attr("label");

   if (group === "Choropleth") {
      location.replace(`${location.origin}/#${sel.val()}`)
   } else {
      location.hash = ""
      location.pathname = sel.val()
   }
});